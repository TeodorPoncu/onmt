{".class": "MypyFile", "_fullname": "opennmt.runner", "is_partial_stub_package": false, "is_stub": false, "names": {".class": "SymbolTable", "OrderRestorer": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.misc.OrderRestorer", "kind": "Gdef"}, "Runner": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["builtins.object"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.runner.Runner", "name": "Runner", "type_vars": []}, "flags": [], "fullname": "opennmt.runner.Runner", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.runner", "mro": ["opennmt.runner.Runner", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "model", "config", "seed", "num_devices", "gpu_allow_growth", "session_config", "auto_config", "hvd"], "flags": [], "fullname": "opennmt.runner.Runner.__init__", "name": "__init__", "type": null}}, "_build_eval_spec": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner._build_eval_spec", "name": "_build_eval_spec", "type": null}}, "_build_train_spec": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "checkpoint_path"], "flags": [], "fullname": "opennmt.runner.Runner._build_train_spec", "name": "_build_train_spec", "type": null}}, "_config": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._config", "name": "_config", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_finalize_training_parameters": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner._finalize_training_parameters", "name": "_finalize_training_parameters", "type": null}}, "_get_model_assets": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner._get_model_assets", "name": "_get_model_assets", "type": null}}, "_hvd": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._hvd", "name": "_hvd", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_make_estimator": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner._make_estimator", "name": "_make_estimator", "type": null}}, "_make_eval_prediction_hooks_fn": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner._make_eval_prediction_hooks_fn", "name": "_make_eval_prediction_hooks_fn", "type": null}}, "_maybe_average_checkpoints": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["self", "estimator", "avg_subdirectory"], "flags": [], "fullname": "opennmt.runner.Runner._maybe_average_checkpoints", "name": "_maybe_average_checkpoints", "type": null}}, "_model": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._model", "name": "_model", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_num_devices": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._num_devices", "name": "_num_devices", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_num_replicas": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._num_replicas", "name": "_num_replicas", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_seed": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._seed", "name": "_seed", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_session_config": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.Runner._session_config", "name": "_session_config", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "average_checkpoints": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["self", "output_dir", "max_count"], "flags": [], "fullname": "opennmt.runner.Runner.average_checkpoints", "name": "average_checkpoints", "type": null}}, "evaluate": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1], "arg_names": ["self", "checkpoint_path"], "flags": [], "fullname": "opennmt.runner.Runner.evaluate", "name": "evaluate", "type": null}}, "export": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "checkpoint_path", "export_dir_base"], "flags": [], "fullname": "opennmt.runner.Runner.export", "name": "export", "type": null}}, "infer": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1, 1, 1], "arg_names": ["self", "features_file", "predictions_file", "checkpoint_path", "log_time"], "flags": [], "fullname": "opennmt.runner.Runner.infer", "name": "infer", "type": null}}, "is_chief": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.runner.Runner.is_chief", "name": "is_chief", "type": null}}, "score": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 1, 1], "arg_names": ["self", "features_file", "predictions_file", "checkpoint_path", "output_file"], "flags": [], "fullname": "opennmt.runner.Runner.score", "name": "score", "type": null}}, "train": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1], "arg_names": ["self", "checkpoint_path"], "flags": [], "fullname": "opennmt.runner.Runner.train", "name": "train", "type": null}}, "train_and_evaluate": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1], "arg_names": ["self", "checkpoint_path"], "flags": [], "fullname": "opennmt.runner.Runner.train_and_evaluate", "name": "train_and_evaluate", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "_CONFIG_FALLBACK": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner._CONFIG_FALLBACK", "name": "_CONFIG_FALLBACK", "type": {".class": "Instance", "args": ["builtins.str", "builtins.object"], "type_ref": "builtins.dict"}}}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.runner.__package__", "name": "__package__", "type": "builtins.str"}}, "_auto_tune_batch_size": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1], "arg_names": ["config", "min_batch_size", "max_batch_size", "min_range", "sample_iterations", "num_devices", "gpu_memory_fraction"], "flags": [], "fullname": "opennmt.runner._auto_tune_batch_size", "name": "_auto_tune_batch_size", "type": null}}, "_count_batch_accum": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["batch_size", "target_batch_size", "num_replicas"], "flags": [], "fullname": "opennmt.runner._count_batch_accum", "name": "_count_batch_accum", "type": null}}, "_make_exporters": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["exporters_type", "serving_input_fn", "assets_extra"], "flags": [], "fullname": "opennmt.runner._make_exporters", "name": "_make_exporters", "type": null}}, "checkpoint": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.checkpoint", "kind": "Gdef"}, "copy": {".class": "SymbolTableNode", "cross_ref": "copy", "kind": "Gdef"}, "estimator_util": {".class": "SymbolTableNode", "cross_ref": "opennmt.estimator", "kind": "Gdef"}, "evaluator": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.evaluator", "kind": "Gdef"}, "fn_args": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import"], "fullname": "opennmt.runner.fn_args", "name": "fn_args", "type": {".class": "AnyType", "missing_import_name": "opennmt.runner.fn_args", "source_any": null, "type_of_any": 3}}}, "format_translation_output": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.misc.format_translation_output", "kind": "Gdef"}, "get_devices": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.parallel.get_devices", "kind": "Gdef"}, "hooks": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.hooks", "kind": "Gdef"}, "io": {".class": "SymbolTableNode", "cross_ref": "io", "kind": "Gdef"}, "json": {".class": "SymbolTableNode", "cross_ref": "json", "kind": "Gdef"}, "math": {".class": "SymbolTableNode", "cross_ref": "math", "kind": "Gdef"}, "misc": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.misc", "kind": "Gdef"}, "models": {".class": "SymbolTableNode", "cross_ref": "opennmt.models", "kind": "Gdef"}, "np": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import"], "fullname": "opennmt.runner.np", "name": "np", "type": {".class": "AnyType", "missing_import_name": "opennmt.runner.np", "source_any": null, "type_of_any": 3}}}, "os": {".class": "SymbolTableNode", "cross_ref": "os", "kind": "Gdef"}, "random": {".class": "SymbolTableNode", "cross_ref": "random", "kind": "Gdef"}, "subprocess": {".class": "SymbolTableNode", "cross_ref": "subprocess", "kind": "Gdef"}, "sys": {".class": "SymbolTableNode", "cross_ref": "sys", "kind": "Gdef"}, "text_format": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import"], "fullname": "opennmt.runner.text_format", "name": "text_format", "type": {".class": "AnyType", "missing_import_name": "opennmt.runner.text_format", "source_any": null, "type_of_any": 3}}}, "tf": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import"], "fullname": "opennmt.runner.tf", "name": "tf", "type": {".class": "AnyType", "missing_import_name": "opennmt.runner.tf", "source_any": null, "type_of_any": 3}}}, "yaml": {".class": "SymbolTableNode", "cross_ref": "yaml", "kind": "Gdef"}}, "path": "/Users/worko/OpenNMT-tf/opennmt/runner.py"}