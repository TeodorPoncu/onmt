{".class": "MypyFile", "_fullname": "opennmt.utils.evaluator", "is_partial_stub_package": false, "is_stub": false, "names": {".class": "SymbolTable", "BLEUDetokEvaluator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.ExternalEvaluator"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.BLEUDetokEvaluator", "name": "BLEUDetokEvaluator", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.BLEUDetokEvaluator", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.BLEUDetokEvaluator", "opennmt.utils.evaluator.ExternalEvaluator", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "labels_file", "output_dir"], "flags": [], "fullname": "opennmt.utils.evaluator.BLEUDetokEvaluator.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "BLEUDetokScorer": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.BLEUScorer"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.BLEUDetokScorer", "name": "BLEUDetokScorer", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.BLEUDetokScorer", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.BLEUDetokScorer", "opennmt.utils.evaluator.BLEUScorer", "opennmt.utils.evaluator.Scorer", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.utils.evaluator.BLEUDetokScorer.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "BLEUEvaluator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.ExternalEvaluator"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.BLEUEvaluator", "name": "BLEUEvaluator", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.BLEUEvaluator", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.BLEUEvaluator", "opennmt.utils.evaluator.ExternalEvaluator", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "labels_file", "output_dir"], "flags": [], "fullname": "opennmt.utils.evaluator.BLEUEvaluator.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "BLEUScorer": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.Scorer"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.BLEUScorer", "name": "BLEUScorer", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.BLEUScorer", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.BLEUScorer", "opennmt.utils.evaluator.Scorer", "builtins.object"], "names": {".class": "SymbolTable", "__call__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "flags": [], "fullname": "opennmt.utils.evaluator.BLEUScorer.__call__", "name": "__call__", "type": null}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "bleu_script", "name"], "flags": [], "fullname": "opennmt.utils.evaluator.BLEUScorer.__init__", "name": "__init__", "type": null}}, "_bleu_script": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.BLEUScorer._bleu_script", "name": "_bleu_script", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "ExternalEvaluator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["builtins.object"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.ExternalEvaluator", "name": "ExternalEvaluator", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.ExternalEvaluator", "builtins.object"], "names": {".class": "SymbolTable", "__call__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "step", "predictions_path"], "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator.__call__", "name": "__call__", "type": null}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1], "arg_names": ["self", "labels_file", "output_dir", "scorers"], "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator.__init__", "name": "__init__", "type": null}}, "_labels_file": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator._labels_file", "name": "_labels_file", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_scorers": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator._scorers", "name": "_scorers", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_summary_writer": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator._summary_writer", "name": "_summary_writer", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "add_scorer": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "scorer"], "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator.add_scorer", "name": "add_scorer", "type": null}}, "score": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "flags": [], "fullname": "opennmt.utils.evaluator.ExternalEvaluator.score", "name": "score", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "ROUGEEvaluator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.ExternalEvaluator"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.ROUGEEvaluator", "name": "ROUGEEvaluator", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEEvaluator", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.ROUGEEvaluator", "opennmt.utils.evaluator.ExternalEvaluator", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "labels_file", "output_dir"], "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEEvaluator.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "ROUGEScorer": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.Scorer"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.ROUGEScorer", "name": "ROUGEScorer", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEScorer", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.ROUGEScorer", "opennmt.utils.evaluator.Scorer", "builtins.object"], "names": {".class": "SymbolTable", "__call__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEScorer.__call__", "name": "__call__", "type": null}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEScorer.__init__", "name": "__init__", "type": null}}, "log": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "score"], "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEScorer.log", "name": "log", "type": null}}, "summarize": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0], "arg_names": ["self", "writer", "step", "score"], "flags": [], "fullname": "opennmt.utils.evaluator.ROUGEScorer.summarize", "name": "summarize", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "SacreBLEUEvaluator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.ExternalEvaluator"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.SacreBLEUEvaluator", "name": "SacreBLEUEvaluator", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.SacreBLEUEvaluator", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.SacreBLEUEvaluator", "opennmt.utils.evaluator.ExternalEvaluator", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["self", "labels_file", "output_dir"], "flags": [], "fullname": "opennmt.utils.evaluator.SacreBLEUEvaluator.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "SacreBLEUScorer": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["opennmt.utils.evaluator.Scorer"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.SacreBLEUScorer", "name": "SacreBLEUScorer", "type_vars": []}, "flags": [], "fullname": "opennmt.utils.evaluator.SacreBLEUScorer", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.SacreBLEUScorer", "opennmt.utils.evaluator.Scorer", "builtins.object"], "names": {".class": "SymbolTable", "__call__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "flags": [], "fullname": "opennmt.utils.evaluator.SacreBLEUScorer.__call__", "name": "__call__", "type": null}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.utils.evaluator.SacreBLEUScorer.__init__", "name": "__init__", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "Scorer": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": ["__call__"], "bases": ["builtins.object"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "opennmt.utils.evaluator.Scorer", "name": "Scorer", "type_vars": []}, "flags": ["is_abstract"], "fullname": "opennmt.utils.evaluator.Scorer", "metaclass_type": null, "metadata": {}, "module_name": "opennmt.utils.evaluator", "mro": ["opennmt.utils.evaluator.Scorer", "builtins.object"], "names": {".class": "SymbolTable", "__call__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "flags": ["is_decorated", "is_abstract"], "fullname": "opennmt.utils.evaluator.Scorer.__call__", "name": "__call__", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class"], "fullname": null, "name": "__call__", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0], "arg_names": ["self", "labels_file", "predictions_path"], "arg_types": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "__call__ of Scorer", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "variables": []}}}}, "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "name"], "flags": [], "fullname": "opennmt.utils.evaluator.Scorer.__init__", "name": "__init__", "type": null}}, "_name": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.Scorer._name", "name": "_name", "type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}}}, "_summarize_value": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0, 0], "arg_names": ["self", "writer", "step", "tag", "value"], "flags": [], "fullname": "opennmt.utils.evaluator.Scorer._summarize_value", "name": "_summarize_value", "type": null}}, "log": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "score"], "flags": [], "fullname": "opennmt.utils.evaluator.Scorer.log", "name": "log", "type": null}}, "lower_is_better": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "opennmt.utils.evaluator.Scorer.lower_is_better", "name": "lower_is_better", "type": null}}, "name": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "opennmt.utils.evaluator.Scorer.name", "name": "name", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property"], "fullname": null, "name": "name", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "name of Scorer", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "variables": []}}}}, "summarize": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0], "arg_names": ["self", "writer", "step", "score"], "flags": [], "fullname": "opennmt.utils.evaluator.Scorer.summarize", "name": "summarize", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "opennmt.utils.evaluator.__package__", "name": "__package__", "type": "builtins.str"}}, "abc": {".class": "SymbolTableNode", "cross_ref": "abc", "kind": "Gdef"}, "external_evaluation_fn": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["evaluators_name", "labels_file", "output_dir"], "flags": [], "fullname": "opennmt.utils.evaluator.external_evaluation_fn", "name": "external_evaluation_fn", "type": null}}, "get_third_party_dir": {".class": "SymbolTableNode", "cross_ref": "opennmt.utils.misc.get_third_party_dir", "kind": "Gdef"}, "io": {".class": "SymbolTableNode", "cross_ref": "io", "kind": "Gdef"}, "make_scorers": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["names"], "flags": [], "fullname": "opennmt.utils.evaluator.make_scorers", "name": "make_scorers", "type": null}}, "os": {".class": "SymbolTableNode", "cross_ref": "os", "kind": "Gdef"}, "re": {".class": "SymbolTableNode", "cross_ref": "re", "kind": "Gdef"}, "six": {".class": "SymbolTableNode", "cross_ref": "six", "kind": "Gdef"}, "subprocess": {".class": "SymbolTableNode", "cross_ref": "subprocess", "kind": "Gdef"}, "tf": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_suppressed_import"], "fullname": "opennmt.utils.evaluator.tf", "name": "tf", "type": {".class": "AnyType", "missing_import_name": "opennmt.utils.evaluator.tf", "source_any": null, "type_of_any": 3}}}}, "path": "/Users/worko/OpenNMT-tf/opennmt/utils/evaluator.py"}